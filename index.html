<html>
    <head>
        <script src="jquery-3.6.0.js"></script>
    </head>
    <body>
        <script>
            url = "http://localhost:8080"
            api = "/api/v0/"
            au = url+api
            td="</td><td>"
            function Result(obj) {
                console.log("Result:")
                console.log(obj)
                $("#result").html(obj)
            }
            function Status(stat) {
                console.log("Status:")
                console.log(stat)
                $("#status").text("Status: " + stat)
            }
            function getDomains(){
                host=$("#input_domains").val()
                $.get(au+"domains/"+host, function(data, status){
                    html="<table><tr><th>#</th><th>Name</th><th>State(Reason)</th><th>ID</th></tr>"                    
                    $.each(data, function(key, value){
                        console.log(key + ": " + value.DomainName)
                        html += "<tr><td>" + key + td + value.DomainName + td + value.DomainState +"("+ value.DomainStateReason +")"+ td + value.DomainID + "</td></tr>"
                    })
                    html += "</table>"
                    Result(html)
                    Status(status)
                })                
            }
            function getDomain(){
                uri=$("#input_domain").val()
                $.get(au+"domains/" + uri, function(data, status){
                    html="<table><tr><th>Name</th><th>State</th><th>ID</th><th>UUID</th></tr>"
                    html += "<tr><td>" + data.DomainName + td + data.DomainState + td + data.DomainID + td + data.DomainUUID + "</td></tr></table>"
                    Result(html)
                    Status(status)
                })
            }
        </script>
        <div>
            <form action="#" onsubmit='getDomains()'>
                <label>/api/v0/domains/:host</label>
                <input type="text" id="input_domains" value="192.168.101.2">
            </form>
            <form action="#" onsubmit='getDomain()'>
            <label>/api/v0/domains/:host/:method/:val</label>
            <input type="text" id="input_domain" value="192.168.101.2/id/2">
            </form>
        </div>
        <div id="result"></div>
        <div id="status"></div>
    </body>
</html>